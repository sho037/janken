<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Janken</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>

<body>
  <header>
    <nav class="navbar" style="background-color: #f8cd88;">
      <div class="container-fluid">
        <span class="navbar-brand h1 container">
          Janken Game App
        </span>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <p class="nav-item text-end pt-5">こんにちは！
              <span sec:authentication="name"></span>さん。
            </p>
            <a class="nav-link active text-end" href="/janken">ホーム</a>
            <a class="nav-link active text-end" aria-current="page" href="/janken/entry">エントリー</a>
            <a class="nav-link text-end" href="/logout">ログアウト</a>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <div class="container">
    <div class="users mt-5" th:if="${enemy_user}">
      <h3><span sec:authentication="name"></span> vs <span>[[${enemy_user.name}]]</span></h3>
    </div>

    <div class="game mt-5 text-center" th:if="${(user_id != null) && (enemy_user != null)}">
      <a class="btn btn-outline-danger mx-3"
        th:href="@{/fight(id=${user_id}, enemy_id=${enemy_user.id}, user_hand='Gu')}">
        ぐー
      </a>
      <a class="btn btn-outline-warning mx-3"
        th:href="@{/fight(id=${user_id}, enemy_id=${enemy_user.id}, user_hand='Choki')}">
        ちょき
      </a>
      <a class="btn btn-outline-primary mx-3"
        th:href="@{/fight(id=${user_id}, enemy_id=${enemy_user.id}, user_hand='Pa')}">
        ぱー
      </a>
    </div>

    <div class="result mt-5" th:if="${(your_hand != null) && (enemy_hand != null) && (result != null)}">
      <p>あなたの手：[[${your_hand}]]</p>
      <p>相手の手：[[${enemy_hand}]]</p>
      <p>結果：[[${result}]]</p>
    </div>

    <div class="links">
      <a class="text-decoration-none" href="/janken">もどる</a>
    </div>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
</body>

</html>
